(this.webpackJsonpivis=this.webpackJsonpivis||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),i=n(18),c=n.n(i),o=(n(24),n(9)),r=n(10),l=n(12),h=n(11),d=n(15),j=n(2),b=(n(25),n(0));function p(t){var e=Object(j.e)();return Object(b.jsx)("img",{className:"thumb",src:t.ilink,onClick:function(){return function(n){var a=new URLSearchParams(e.location.search);a.set("id",t.id),e.push({pathname:"/",search:"?"+a.toString()}),e.go(0)}()},alt:"nav"})}var x=function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={data:null,dtype:"none",opacity:80,conf:50},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=new URLSearchParams(t).get(e);return null===a?n:a}(this.props.location.search,"id","2017877547");fetch("./json/"+e+".json").then((function(t){return t.json()})).then((function(e){t.setState({data:e})}))}},{key:"handleSelectDataType",value:function(t){this.setState({dtype:t})}},{key:"handleOpacityChange",value:function(t){this.setState({opacity:t.target.value})}},{key:"handleConfChange",value:function(t){this.setState({conf:t.target.value})}},{key:"render",value:function(){var t=this;if(!this.state.data)return Object(b.jsx)("span",{});var e=this.state.data.image_url,n=null,a=null;"face"===this.state.dtype?n=this.state.data.face.filter((function(e){return 100*e.prob>t.state.conf})).map((function(t,e){return Object(b.jsx)("g",{children:Object(b.jsx)("rect",{x:t.x,y:t.y,width:t.width,height:t.height,stroke:"#d79921",strokeWidth:"4",fill:"none"})},e)})):"inst"===this.state.dtype?n=this.state.data.inst.filter((function(e){return 100*e.prob>t.state.conf})).map((function(t,e){return Object(b.jsxs)("g",{children:[Object(b.jsx)("rect",{x:t.x,y:t.y,width:t.width,height:t.height,stroke:"#d79921",strokeWidth:"4",fill:"none"}),Object(b.jsx)("text",{x:t.x,y:t.y-5,style:{font:"18px sans-serif",fill:"#d79921"},children:t.class})]},e)})):"lvic"===this.state.dtype?n=this.state.data.lvic.filter((function(e){return 100*e.prob>t.state.conf})).map((function(t,e){return Object(b.jsxs)("g",{children:[Object(b.jsx)("rect",{x:t.x,y:t.y,width:t.width,height:t.height,stroke:"#d79921",strokeWidth:"4",fill:"none"}),Object(b.jsx)("text",{x:t.x,y:t.y-5,style:{font:"18px sans-serif",fill:"#d79921"},children:t.class})]},e)})):"kpnt"===this.state.dtype&&(n=this.state.data.kpnt.filter((function(e){return 100*e.score>t.state.conf})).map((function(t,e){return Object(b.jsx)("g",{children:Object(b.jsx)("circle",{cx:t.x,cy:t.y,r:"5",fill:"#d79921"})},e)})),a=this.state.data.kcnt.filter((function(e){return 100*e.score0>t.state.conf&100*e.score1>t.state.conf})).map((function(t,e){return Object(b.jsx)("g",{children:Object(b.jsx)("line",{x1:t.x0,y1:t.y0,x2:t.x1,y2:t.y1,stroke:"#d79921"})},e)})));var s=this.state.data.nn.map((function(e,n){return Object(b.jsx)("div",{className:"thumbcon",children:Object(b.jsx)(p,{id:e,ilink:t.state.data.nn_thumb[n]})},n)})),i=this.state.data.rr.map((function(e,n){return Object(b.jsx)("div",{className:"thumbcon",children:Object(b.jsx)(p,{id:e,ilink:t.state.data.rr_thumb[n]})},n)})),c=this.state.data.pano.map((function(t,e){return Object(b.jsxs)("div",{className:"pano-bar-size",children:[Object(b.jsx)("div",{className:"pano-bar-inner",style:{width:t.value/1+"%",backgroundColor:t.color}}),Object(b.jsx)("span",{className:"pano-bar-text",children:t.class_name+" ("+Math.round(t.value)+"%)"})]},e)})),o="fsac"===this.state.data.collection?"FSA-OWI Color Images":"George Grantham Bain Collection",r="fsac"===this.state.data.collection?"https://www.loc.gov/pictures/collection/fsac/":"https://www.loc.gov/pictures/collection/ggbain/";return Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)("div",{className:"mbox",children:Object(b.jsxs)("div",{className:"mboxdata",children:[Object(b.jsx)("p",{className:"mboxtitle",children:Object(b.jsx)("b",{children:"Access & Discovery of Documentary Images (ADDI) Visualization"})}),Object(b.jsx)("p",{className:"mboxabout",children:Object(b.jsx)("b",{children:"By Taylor Arnold and Lauren Tilton for the Library of Congress"})}),Object(b.jsx)("p",{className:"mboxabout",children:"This interactive vizaliation is part of the ADDI project, which was designed to adapt and apply computer vision algorithms to aid in the discovery and use of digital collections, specifically documentary photography collections held by the Library of Congress."}),Object(b.jsxs)("p",{className:"mboxabout",children:["For more information, see the project's ",Object(b.jsx)("a",{href:"https://github.com/statsmaths/addi_project",target:"_blank",rel:"noopener noreferrer",children:"main page"}),"."]})]})}),Object(b.jsx)("div",{className:"ibox",children:Object(b.jsx)("div",{className:"ibox-inner",children:Object(b.jsxs)("svg",{viewBox:"0 0 "+this.state.data.width+" "+this.state.data.height,children:[Object(b.jsx)("image",{x:"0",y:"0",width:"100%",height:"100%",href:e}),Object(b.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"black",opacity:100-this.state.opacity+"%",stroke:"#928374",strokeWidth:"4"}),n," ",a]})})}),Object(b.jsx)("div",{className:"tbox",children:Object(b.jsxs)("div",{className:"tbox-inner",children:[Object(b.jsxs)("div",{className:"mdata",children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("b",{children:Object(b.jsx)("u",{children:"ARCHIVAL DATA"})}),Object(b.jsxs)("div",{className:"tooltipbottom",children:["\xa0[?]",Object(b.jsx)("span",{className:"tooltiptextbottom",children:"The fields in this section were directly taken from the archival information produced by the Library of Congress."})]})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("p",{className:"archinfo",children:[Object(b.jsx)("b",{children:"Title:"})," ",this.state.data.title]}),Object(b.jsxs)("p",{className:"archinfo",children:[Object(b.jsx)("b",{children:"Date:"})," ",this.state.data.sort_date]}),Object(b.jsxs)("p",{className:"archinfo",children:[Object(b.jsx)("b",{children:"Collection:"})," ",Object(b.jsx)("a",{href:r,target:"_blank",rel:"noopener noreferrer",children:o})]}),Object(b.jsxs)("p",{className:"archinfo",children:[Object(b.jsx)("b",{children:"Library of Congress:"})," ",Object(b.jsx)("a",{href:this.state.data.url,target:"_blank",rel:"noopener noreferrer",children:this.state.data.filename})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("span",{children:[Object(b.jsx)("b",{children:Object(b.jsx)("u",{children:"COMPUTER VISION ANNOTATIONS"})}),Object(b.jsxs)("div",{className:"tooltip",children:["\xa0[?]",Object(b.jsx)("span",{className:"tooltiptext",children:"The information below was created automatically by the application of computer vision algorithms. See each element for more information about each alogorithm."})]})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"inputcont-outer",children:[Object(b.jsxs)("div",{className:"inputcont",children:[Object(b.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:this.state.opacity,onChange:this.handleOpacityChange.bind(this)}),Object(b.jsx)("b",{children:"\u2190 Opacity "}),Object(b.jsxs)("div",{className:"tooltipright",children:["\xa0[?]",Object(b.jsx)("span",{className:"tooltiptextright",children:"Slider to fade the image to highlight the annotations."})]})]}),Object(b.jsxs)("div",{className:"inputcont",children:[Object(b.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:this.state.conf,onChange:this.handleConfChange.bind(this)}),Object(b.jsx)("b",{children:"\u2190 Confidence"}),Object(b.jsxs)("div",{className:"tooltipright",children:["\xa0[?]",Object(b.jsx)("span",{className:"tooltiptextright",children:"Each annotation has a confidence score attached to it. Slide to the left to include less confident annotations and to the right to include only those annotations with a high confidence score."})]})]})]}),Object(b.jsxs)("div",{className:"anno-button-box",children:[Object(b.jsx)("b",{children:"Annotation \u2192"}),Object(b.jsxs)("button",{className:"anno-button tooltip "+("none"===this.state.dtype?" anno-button-active":""),onClick:function(){return t.handleSelectDataType("none")},children:["None",Object(b.jsx)("span",{className:"tooltiptext",children:"Clear annotations."})]}),Object(b.jsxs)("button",{className:"anno-button tooltip "+("face"===this.state.dtype?" anno-button-active":""),onClick:function(){return t.handleSelectDataType("face")},children:["Faces",Object(b.jsx)("span",{className:"tooltiptext",children:"Draw boxes around detected faces."})]}),Object(b.jsxs)("button",{className:"anno-button tooltip "+("inst"===this.state.dtype?" anno-button-active":""),onClick:function(){return t.handleSelectDataType("inst")},children:[" Objects",Object(b.jsx)("span",{className:"tooltiptext",children:"Draw boxes around detected objects and people."})]}),Object(b.jsxs)("button",{className:"anno-button tooltip "+("lvic"===this.state.dtype?" anno-button-active":""),onClick:function(){return t.handleSelectDataType("lvic")},children:["LVIS",Object(b.jsx)("span",{className:"tooltiptext",children:"Draw boxes around detected objects; uses a larger set of object types than the Objects annotations."})]}),Object(b.jsxs)("button",{className:"anno-button tooltipright "+("kpnt"===this.state.dtype?" anno-button-active":""),onClick:function(){return t.handleSelectDataType("kpnt")},children:["Pose",Object(b.jsx)("span",{className:"tooltiptextright",children:"Show the limbs and body of detected people."})]})]}),Object(b.jsxs)("div",{className:"pano-bars-outer",children:[Object(b.jsxs)("div",{className:"pano-bars-title",children:[Object(b.jsx)("b",{children:"Panoptic Segmentation"}),Object(b.jsxs)("div",{className:"tooltip",children:["\xa0[?]",Object(b.jsx)("span",{className:"tooltiptext",children:"Detected regions in the image, by percentage of the entire image. Stuff is in yellow; objects are in green."})]})]}),Object(b.jsx)("div",{className:"pano-bars-inner",children:c})]})]}),Object(b.jsxs)("div",{className:"recs",children:[Object(b.jsxs)("span",{children:["Similar Photographs",Object(b.jsxs)("div",{className:"tooltip",children:["\xa0[?]",Object(b.jsx)("span",{className:"tooltiptext",children:"Ten images that have some visual similarity to the starting image based on the image embedding method."})]})]}),Object(b.jsx)("div",{className:"flex-container",children:s}),Object(b.jsxs)("span",{children:["Other Recommendations",Object(b.jsxs)("div",{className:"tooltip",children:["\xa0[?]",Object(b.jsx)("span",{className:"tooltiptext",children:"Five randomly selected images from the collection to show other possibilities."})]})]}),Object(b.jsx)("div",{className:"flex-container",children:i})]})]})})]})}}]),n}(s.a.Component),u=(n(35),n(36),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)(x,{location:this.props.location})}}]),n}(s.a.Component));var m=function(){return Object(b.jsx)(d.a,{basename:"/addi/06_interactive_viz/build",children:Object(b.jsx)(j.a,{component:u})})},O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),s(t),i(t),c(t)}))};c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root")),O()}},[[37,1,2]]]);
//# sourceMappingURL=main.ca510543.chunk.js.map