# Annotations

This directory contains extracted metadata for the collections associated with
the project. There is one subfolder for each collection, using the short
abbreviation used at the Library of Congress. Note that the black-and-white
FSA-OWI photographs are listed under a different directory (fsa) than the
color images (fsac). Each of the annotations is stored as a CSV file using
gzip compression. As an index for each image we have used the Library of
Congress Control Number. You can get the Library of Congress page associated
with each image, including the image itself, by adding the control number at the
end of the URL `https://www.loc.gov/item/`.

Descriptions of the schema for the ten file types associated with each of the
collections are given below. The first few rows from the **det** collection are
given as an example. Note that we do not explain the technical details of these
estimators or their uses here; for those details see the Method Paper.

### knn_local_[COLLECTION].csv.bz2

For each image in the collection, this file describes the fifty nearest
neighbors for each image. The distances are determined using an image embedding.

```
filename,collection,rank,filename_n,collection_n,distance
2004667562,det,1,2016796657,det,8.569
2004667562,det,2,2016797323,det,8.59
2004667562,det,3,2016804549,det,8.687
2004667562,det,4,2016814104,det,8.803
2004667562,det,5,2016797294,det,8.823
2004667562,det,6,2016808266,det,9.069
2004667562,det,7,2016814198,det,9.204
2004667562,det,8,2016808671,det,9.451
2004667562,det,9,2016808688,det,9.452
```

Note that there is a folder called `global` which contains the file
`knn_global.csv.bz2` that gives the nearest neighbors across collections.

### nn_face_[COLLECTION].csv.bz2

Contains one row for each detected face. For the face, we have a bounding box
in pixel coordinates and a confidence score from 0 to 1. Higher values indicate
a higher confidence in being a correctly identified face.

```
filename,collection,top,right,bottom,left,confidence
2007681756,det,381,976,403,957,0.9214813709259033
2007681756,det,150,787,173,768,0.798409104347229
2016794056,det,616,134,632,120,0.9918667674064636
2016794058,det,292,636,333,603,0.7188429236412048
2016794061,det,343,295,363,277,0.9992365837097168
2016794061,det,344,62,374,37,0.997869610786438
2016794061,det,390,320,422,295,0.9946500658988953
2016794061,det,350,428,386,397,0.8237202167510986
```

### nn_inst_[COLLECTION].csv.bz2

Contains one row for each detected object or person. For each object, we have a
bounding box in pixel coordinates and a probability score from 0 to 1. Higher
values indicate a higher confidence in being a correctly identified object or
person.

```
filename,collection,index,height,width,class,prob,x0,y0,x1,y1
2004667562,det,0,1024,792,person,0.7006066,555.75275,602.56494,565.74884,617.4502
2007681756,det,0,784,1024,person,0.9962435,933.9708,374.33313,997.9899,610.568
2007681756,det,1,784,1024,person,0.9962386,409.7368,461.82727,575.4731,755.4421
2007681756,det,2,784,1024,person,0.98560196,31.156265,390.83228,224.59732,755.0903
2007681756,det,3,784,1024,person,0.98402804,476.3305,321.33704,509.01086,360.6843
2007681756,det,4,784,1024,person,0.971572,845.38513,291.66248,892.8916,435.48987
2007681756,det,5,784,1024,person,0.9248947,446.70654,364.62485,527.77,522.0119
2007681756,det,6,784,1024,person,0.8826259,679.4905,233.4182,717.95917,356.57974
2007681756,det,7,784,1024,person,0.5570425,60.948257,30.67342,253.75926,328.0086
```

### nn_kpnt_[COLLECTION].csv.bz2

Contains 17 rows each detected person; each row corresponds to a keypoint. The
rows include a description of the keypoint, location in pixel coordaintes, and
a confidence score. Note that the coordinates can extend across the boundary of
the image.

```
filename,collection,index,kpname,x,y,score
2004667562,det,0,nose,558.50366,613.633,0.035521064
2004667562,det,0,left_eye,558.50366,611.69354,0.05729653
2004667562,det,0,right_eye,558.50366,611.69354,0.08305846
2004667562,det,0,left_ear,558.50366,611.69354,0.07655203
2004667562,det,0,right_ear,558.50366,611.69354,0.09963612
2004667562,det,0,left_shoulder,538.70575,620.42096,0.038068496
2004667562,det,0,right_shoulder,549.5946,618.4815,0.021961018
2004667562,det,0,left_elbow,537.7159,629.1484,0.034484744
2004667562,det,0,right_elbow,554.54407,627.2089,0.019764842
2004667562,det,0,left_wrist,536.72595,634.9666,0.029317427
2004667562,det,0,right_wrist,556.5238,630.11804,0.024368983
2004667562,det,0,left_hip,540.6855,639.8151,0.042210154
2004667562,det,0,right_hip,546.6249,639.8151,0.038039442
2004667562,det,0,left_knee,540.6855,648.54254,0.03790237
2004667562,det,0,right_knee,545.635,647.5728,0.024610044
2004667562,det,0,left_ankle,540.6855,654.3608,0.054207142
2004667562,det,0,right_ankle,543.6552,654.3608,0.017976644
2004667562,det,1,nose,565.93744,612.6995,0.0056210957
2004667562,det,1,left_eye,569.6199,603.237,0.0038295093
2004667562,det,1,right_eye,565.93744,608.91455,0.0038494703
2004667562,det,1,left_ear,570.5405,602.2908,0.0022344992
2004667562,det,1,right_ear,565.93744,611.75336,0.0017449409
2004667562,det,1,left_shoulder,570.5405,605.1296,0.0041302196
2004667562,det,1,right_shoulder,565.93744,607.96826,0.0023710534
2004667562,det,1,left_elbow,566.85803,614.5921,0.0013410785
2004667562,det,1,right_elbow,565.93744,613.6458,0.0034515273
2004667562,det,1,left_wrist,567.7787,613.6458,0.0023983927
2004667562,det,1,right_wrist,566.85803,616.4846,0.0026404625
2004667562,det,1,left_hip,569.6199,617.43085,0.0054589766
2004667562,det,1,right_hip,566.85803,617.43085,0.0069470094
2004667562,det,1,left_knee,568.6992,607.96826,0.0029268265
2004667562,det,1,right_knee,565.93744,617.43085,0.0037059083
2004667562,det,1,left_ankle,570.5405,614.5921,0.003445312
2004667562,det,1,right_ankle,565.93744,617.43085,0.002502104
```

### nn_lvic_[COLLECTION].csv.bz2

Contains one row for each detected object using a larger vocabulary than the
inst dataset. For each object, we have a bounding box in pixel coordinates and
a probability score from 0 to 1. Higher values indicate a higher confidence in
being a correctly identified object.

```
filename,collection,index,height,width,class,prob,x0,y0,x1,y1
2004667562,det,0,1024,792,wagon,0.8125937,540.7284,614.8372,590.6886,688.5241
2007681756,det,0,784,1024,boot,0.98134524,946.97723,550.78754,980.5905,607.0301
2007681756,det,1,784,1024,boot,0.88614327,986.0142,555.2959,996.42377,610.4306
2007681756,det,2,784,1024,trousers,0.68466884,42.339237,535.2591,152.55006,727.8006
2007681756,det,3,784,1024,trousers,0.6499684,866.02106,348.41135,890.67474,424.45874
2007681756,det,4,784,1024,trousers,0.61383414,494.4163,632.6116,561.8435,749.8037
2007681756,det,5,784,1024,snowboard,0.5929161,93.68687,308.125,329.39667,342.527
2007681756,det,6,784,1024,coat,0.53755623,936.43353,392.43906,997.28284,516.05414
2016794055,det,0,764,1024,horse,0.9815346,396.10092,470.22586,447.90765,508.52145
2016794055,det,1,764,1024,horse,0.9330941,464.80615,469.99414,498.76755000000003,505.57352
2016794055,det,2,764,1024,horse,0.867776,445.20926,469.53677,468.37082,505.96573
2016794055,det,3,764,1024,signboard,0.7979648,252.53381,419.03,274.87585,478.63034
2016794055,det,4,764,1024,horse,0.7297026,423.74164,472.2133,451.44516,507.24915
2016794055,det,5,764,1024,horse_buggy,0.7025084,804.5303,462.3609,889.0715,551.16846
2016794055,det,6,764,1024,horse,0.7012603,481.69363,472.52692,499.78125,505.04205
2016794055,det,7,764,1024,horse,0.59822345,429.02954,469.51053,486.4958,506.23584
2016794055,det,8,764,1024,horse,0.5057209,392.7003,471.10834,407.8479,495.14896
```

### nn_pano_[COLLECTION].csv.bz2

One row for each detected region type within an image. Both the name of the
region type as well as the overall area are included.

```
filename,collection,index,height,width,score,is_thing,class,area
2004667562,det,0,1024,792,0.5698301196098328,TRUE,person,126
2004667562,det,1,1024,792,0,FALSE,tree,612578
2004667562,det,2,1024,792,0,FALSE,grass,178457
2004667562,det,3,1024,792,0,FALSE,dirt,14998
2007681756,det,0,784,1024,0.9961549639701843,TRUE,person,9770
2007681756,det,1,784,1024,0.9945567846298218,TRUE,person,22820
2007681756,det,2,784,1024,0.9929357171058655,TRUE,person,37551
2007681756,det,3,784,1024,0.9844001531600952,TRUE,person,936
2007681756,det,4,784,1024,0.9779952764511108,TRUE,person,3071
2007681756,det,5,784,1024,0.9569289684295654,TRUE,person,22471
2007681756,det,6,784,1024,0.9341481328010559,TRUE,person,2845
2007681756,det,7,784,1024,0.8157144784927368,TRUE,person,7700
2007681756,det,8,784,1024,0,FALSE,snow,68105
2007681756,det,9,784,1024,0,FALSE,stairs,12533
2007681756,det,10,784,1024,0,FALSE,wall-brick,30956
2007681756,det,11,784,1024,0,FALSE,water,56784
2007681756,det,12,784,1024,0,FALSE,window,17304
2007681756,det,13,784,1024,0,FALSE,tree,235888
2007681756,det,14,784,1024,0,FALSE,fence,6535
2007681756,det,15,784,1024,0,FALSE,pavement,20948
2007681756,det,16,784,1024,0,FALSE,building,51444
2007681756,det,17,784,1024,0,FALSE,wall,70460
```

### nn_size_[COLLECTION].csv.bz2

A small dataset showing the size of all the iamges in pixels.

```
filename,collection,height,width
2004667562,det,1024,792
2007681756,det,784,1024
2016794055,det,764,1024
2016794056,det,765,1024
2016794057,det,765,1024
2016794058,det,765,1024
2016794059,det,770,1024
2016794060,det,764,1024
2016794061,det,771,1024
```

### pca_embd_[COLLECTION].csv.bz2

A dataset with one row for each image giving the 25 PCA dimensions of the
image's embedding.

```
filename,collection,pca_01,pca_02,pca_03,pca_04,pca_05,pca_06,pca_07,pca_08,pca_09,pca_10,pca_11,pca_12,pca_13,pca_14,pca_15,pca_16,pca_17,pca_18,pca_19,pca_20,pca_21,pca_22,pca_23,pca_24,pca_25
2004667562,det,20.561163708479487,-13.19364419214539,3.7754832315191282,2.895206456737392,-1.7863709672829982,1.0458870084638867,-1.6755631478439155,-8.28122456015793,-0.7602105048470085,0.023244130750039508,0.8397267615775131,2.819144726328737,1.299626888135304,-0.8648758778622027,0.3005338111276537,3.974954025485949,3.5925259842855786,0.05020445536203252,0.4684701126325895,-1.3566895300911752,2.347421828131892,0.24361777188488068,1.5315303364667554,2.963505099455001,0.399181317408029
2007681756,det,28.485987456319954,4.590419415413908,-6.576339466034974,0.6949306433611645,-0.1438321319759172,-2.66562209275915,12.256846465412801,-2.720217074178956,0.10026161494845792,-6.129474391289077,-4.6905029203208235,-1.025263304437459,-0.27661751538324764,-4.304028034688761,2.3538232590118815,3.1776842506995022,2.31832019154513,1.5184733973279754,4.176135448692666,-0.9041529573687784,1.6172499850806037,-1.8008360914452308,-0.018684610502191158,0.2538094123329108,3.289216142741315
2016794055,det,23.673688381875362,-0.7951562060783576,-12.082127605303851,4.240823658282426,-7.4040133396072605,-1.9820916514431703,-4.94160591363008,7.586218437645236,-0.2969088944159632,-3.286579080294853,5.6206980469468375,-8.178111176117497,4.690750382781029,-5.266049851570445,-0.9733766953571863,-0.3870509572338823,-0.9127200804656744,2.226527654995339,-0.30981038039018677,-6.746967721384613,0.9084108790498909,-0.24629619915403106,2.569468020948139,3.211726555127372,-0.6024687204651125
```

### umap_embd_[COLLECTION].csv.bz2

A dataset with one row for each image giving the two-dimensional UMAP embedding.

```
filename,collection,umap_01,umap_02
2004667562,det,5.9824155926896285,2.907899986029982
2007681756,det,-6.928375546637561,-1.8018827600800311
2016794055,det,-3.075160280639465,1.34725419726013
2016794056,det,-3.0208578874396377,1.387723246536438
2016794057,det,-3.037563189596356,1.3510586933885114
2016794058,det,-3.1013180509480716,1.2434202089107755
2016794059,det,-2.50448893341139,4.911239257618506
2016794060,det,-3.0880339990787697,1.3086864915304839
2016794061,det,-5.65397777644445,1.2888896439972535
2016794062,det,-4.735698833922788,-3.879263512928519
2016794063,det,-1.7068838590072275,1.706916778715252
2016794064,det,-0.04548493318086272,-4.322048002400456
```
