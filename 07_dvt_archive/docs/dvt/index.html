<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>dvt API documentation</title>
<meta name="description" content="Distant Viewing Toolkit for the Analysis of Visual Culture …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
<style>.homelink{display:block;font-size:2em;font-weight:bold;color:#555;padding-bottom:.5em;border-bottom:1px solid silver}.homelink:hover{color:inherit}.homelink img{max-width:20%;max-height:5em;margin:auto;margin-bottom:.3em}</style>
<link rel="canonical" href="https://pdoc3.github.io/pdoc/doc/dvt/">
<link rel="icon" href="https://pdoc3.github.io/pdoc/logo.png">
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>dvt</code></h1>
</header>
<section id="section-intro">
<p>Distant Viewing Toolkit for the Analysis of Visual Culture</p>
<p>The Distant TV Toolkit is a Python package designed to facilitate the
computational analysis of visual culture. It contains low-level architecture
for applying state-of-the-art computer vision algorithms to still and moving
images. The higher-level functionality of the toolkit allows users to quickly
extract semantic metadata from digitized collections. Extracted information
can be visualized for search and discovery or aggregated and analyzed to find
patterns across a corpus.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># -*- coding: utf-8 -*-
&#34;&#34;&#34;Distant Viewing Toolkit for the Analysis of Visual Culture

The Distant TV Toolkit is a Python package designed to facilitate the
computational analysis of visual culture. It contains low-level architecture
for applying state-of-the-art computer vision algorithms to still and moving
images. The higher-level functionality of the toolkit allows users to quickly
extract semantic metadata from digitized collections. Extracted information
can be visualized for search and discovery or aggregated and analyzed to find
patterns across a corpus.
&#34;&#34;&#34;

from cv2 import imread, imwrite, imshow

from .abstract import ImageAnnotator, BatchAnnotator
from .annotate import SizeAnnotator, ImwriteAnnotator, AverageAnnotator
from .aggregate import CutAggregator
from .batch import DiffAnnotator
from .detectron import (
    InstanceAnnotator,
    LVISAnnotator,
    CityscapesAnnotator,
    KeypointsAnnotator,
    PanopticAnnotator,
)
from .keras import (
    FaceAnnotator,
    FaceDetectMtcnn,
    FaceEmbedVgg2,
    EmbedAnnotator,
    EmbedImageKeras,
    EmbedImageKerasResNet50,
)
from .output import DVTOutput
from .video import VideoFrameInput, VideoBatchInput, FrameBatch

__version__ = &#34;0.4.0&#34;</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="dvt.abstract" href="abstract.html">dvt.abstract</a></code></dt>
<dd>
<div class="desc"><p>Abstract classes for running the Distant Viewing Toolkit.</p></div>
</dd>
<dt><code class="name"><a title="dvt.aggregate" href="aggregate.html">dvt.aggregate</a></code></dt>
<dd>
<div class="desc"><p>Aggregators.</p></div>
</dd>
<dt><code class="name"><a title="dvt.annotate" href="annotate.html">dvt.annotate</a></code></dt>
<dd>
<div class="desc"><p>Annotators for extracting high-level metadata about the images in the input.</p></div>
</dd>
<dt><code class="name"><a title="dvt.batch" href="batch.html">dvt.batch</a></code></dt>
<dd>
<div class="desc"><p>Annotators for extracting high-level metadata about the images in the input.</p></div>
</dd>
<dt><code class="name"><a title="dvt.detectron" href="detectron.html">dvt.detectron</a></code></dt>
<dd>
<div class="desc"><p>Annotators that require installing keras and tensorflow.</p></div>
</dd>
<dt><code class="name"><a title="dvt.keras" href="keras.html">dvt.keras</a></code></dt>
<dd>
<div class="desc"><p>Annotators that require installing keras and tensorflow.</p></div>
</dd>
<dt><code class="name"><a title="dvt.output" href="output.html">dvt.output</a></code></dt>
<dd>
<div class="desc"><p>Video files.</p></div>
</dd>
<dt><code class="name"><a title="dvt.utils" href="utils.html">dvt.utils</a></code></dt>
<dd>
<div class="desc"><p>Utility functions used across the toolkit …</p></div>
</dd>
<dt><code class="name"><a title="dvt.video" href="video.html">dvt.video</a></code></dt>
<dd>
<div class="desc"><p>Video files.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="dvt.imread"><code class="name flex">
<span>def <span class="ident">imread</span></span>(<span>filename, flags)</span>
</code></dt>
<dd>
<div class="desc"><p>imread(filename[, flags]) -&gt; retval
.
@brief Loads an image from a file.
. <br>
.
@anchor imread
. <br>
.
The function imread loads an image from the specified file and returns it. If the image cannot be
.
read (because of missing file, improper permissions, unsupported or invalid format), the function
.
returns an empty matrix ( Mat::data==NULL ).
. <br>
.
Currently, the following file formats are supported:
. <br>
.
-
Windows bitmaps - *.bmp, *.dib (always supported)
.
-
JPEG files - *.jpeg, *.jpg, *.jpe (see the <em>Note</em> section)
.
-
JPEG 2000 files - *.jp2 (see the <em>Note</em> section)
.
-
Portable Network Graphics - *.png (see the <em>Note</em> section)
.
-
WebP - *.webp (see the <em>Note</em> section)
.
-
Portable image format - *.pbm, *.pgm, *.ppm *.pxm, *.pnm (always supported)
.
-
PFM files - *.pfm (see the <em>Note</em> section)
.
-
Sun rasters - *.sr, *.ras (always supported)
.
-
TIFF files - *.tiff, *.tif (see the <em>Note</em> section)
.
-
OpenEXR Image files - *.exr (see the <em>Note</em> section)
.
-
Radiance HDR - *.hdr, *.pic (always supported)
.
-
Raster and Vector geospatial data supported by GDAL (see the <em>Note</em> section)
. <br>
.
@note
.
-
The function determines the type of an image by the content, not by the file extension.
.
-
In the case of color images, the decoded images will have the channels stored in <strong>B G R</strong> order.
.
-
When using IMREAD_GRAYSCALE, the codec's internal grayscale conversion will be used, if available.
.
Results may differ to the output of cvtColor()
.
-
On Microsoft Windows* OS and MacOSX*, the codecs shipped with an OpenCV image (libjpeg,
.
libpng, libtiff, and libjasper) are used by default. So, OpenCV can always read JPEGs, PNGs,
.
and TIFFs. On MacOSX, there is also an option to use native MacOSX image readers. But beware
.
that currently these native image loaders give images with different pixel values because of
.
the color management embedded into MacOSX.
.
-
On Linux*, BSD flavors and other Unix-like open-source operating systems, OpenCV looks for
.
codecs supplied with an OS image. Install the relevant packages (do not forget the development
.
files, for example, "libjpeg-dev", in Debian* and Ubuntu*) to get the codec support or turn
.
on the OPENCV_BUILD_3RDPARTY_LIBS flag in CMake.
.
-
In the case you set <em>WITH_GDAL</em> flag to true in CMake and @ref IMREAD_LOAD_GDAL to load the image,
.
then the <a href="http://www.gdal.org">GDAL</a> driver will be used in order to decode the image, supporting
.
the following formats: <a href="http://www.gdal.org/formats_list.html">Raster</a>,
.
<a href="http://www.gdal.org/ogr_formats.html">Vector</a>.
.
-
If EXIF information is embedded in the image file, the EXIF orientation will be taken into account
.
and thus the image will be rotated accordingly except if the flags @ref IMREAD_IGNORE_ORIENTATION
.
or @ref IMREAD_UNCHANGED are passed.
.
-
Use the IMREAD_UNCHANGED flag to keep the floating point values from PFM image.
.
-
By default number of pixels must be less than 2^30. Limit can be set using system
.
variable OPENCV_IO_MAX_IMAGE_PIXELS
. <br>
.
@param filename Name of file to be loaded.
.
@param flags Flag that can take values of cv::ImreadModes</p></div>
</dd>
<dt id="dvt.imshow"><code class="name flex">
<span>def <span class="ident">imshow</span></span>(<span>winname, mat)</span>
</code></dt>
<dd>
<div class="desc"><p>.
@brief Displays an image in the specified window.
. <br>
.
The function imshow displays an image in the specified window. If the window was created with the
.
cv::WINDOW_AUTOSIZE flag, the image is shown with its original size, however it is still limited by the screen resolution.
.
Otherwise, the image is scaled to fit the window. The function may scale the image, depending on its depth:
. <br>
.
-
If the image is 8-bit unsigned, it is displayed as is.
.
-
If the image is 16-bit unsigned or 32-bit integer, the pixels are divided by 256. That is, the
.
value range [0,255*256] is mapped to [0,255].
.
-
If the image is 32-bit or 64-bit floating-point, the pixel values are multiplied by 255. That is, the
.
value range [0,1] is mapped to [0,255].
. <br>
.
If window was created with OpenGL support, cv::imshow also support ogl::Buffer , ogl::Texture2D and
.
cuda::GpuMat as input.
. <br>
.
If the window was not created before this function, it is assumed creating a window with cv::WINDOW_AUTOSIZE.
. <br>
.
If you need to show an image that is bigger than the screen resolution, you will need to call namedWindow("", WINDOW_NORMAL) before the imshow.
. <br>
.
@note This function should be followed by cv::waitKey function which displays the image for specified
.
milliseconds. Otherwise, it won't display the image. For example, <strong>waitKey(0)</strong> will display the window
.
infinitely until any keypress (it is suitable for image display). <strong>waitKey(25)</strong> will display a frame
.
for 25 ms, after which display will be automatically closed. (If you put it in a loop to read
.
videos, it will display the video frame-by-frame)
. <br>
.
@note
. <br>
.
[<strong>Windows Backend Only</strong>] Pressing Ctrl+C will copy the image to the clipboard.
. <br>
.
[<strong>Windows Backend Only</strong>] Pressing Ctrl+S will show a dialog to save the image.
. <br>
.
@param winname Name of the window.
.
@param mat Image to be shown.</p></div>
</dd>
<dt id="dvt.imwrite"><code class="name flex">
<span>def <span class="ident">imwrite</span></span>(<span>filename, img, params)</span>
</code></dt>
<dd>
<div class="desc"><p>imwrite(filename, img[, params]) -&gt; retval
.
@brief Saves an image to a specified file.
. <br>
.
The function imwrite saves the image to the specified file. The image format is chosen based on the
.
filename extension (see cv::imread for the list of extensions). In general, only 8-bit
.
single-channel or 3-channel (with 'BGR' channel order) images
.
can be saved using this function, with these exceptions:
. <br>
.
- 16-bit unsigned (CV_16U) images can be saved in the case of PNG, JPEG 2000, and TIFF formats
.
- 32-bit float (CV_32F) images can be saved in PFM, TIFF, OpenEXR, and Radiance HDR formats;
.
3-channel (CV_32FC3) TIFF images will be saved using the LogLuv high dynamic range encoding
.
(4 bytes per pixel)
.
- PNG images with an alpha channel can be saved using this function. To do this, create
.
8-bit (or 16-bit) 4-channel image BGRA, where the alpha channel goes last. Fully transparent pixels
.
should have alpha set to 0, fully opaque pixels should have alpha set to 255/65535 (see the code sample below).
.
- Multiple images (vector of Mat) can be saved in TIFF format (see the code sample below).
. <br>
.
If the format, depth or channel order is different, use
.
Mat::convertTo and cv::cvtColor to convert it before saving. Or, use the universal FileStorage I/O
.
functions to save the image to XML or YAML format.
. <br>
.
The sample below shows how to create a BGRA image, how to set custom compression parameters and save it to a PNG file.
.
It also demonstrates how to save multiple images in a TIFF file:
.
@include snippets/imgcodecs_imwrite.cpp
.
@param filename Name of the file.
.
@param img (Mat or vector of Mat) Image or Images to be saved.
.
@param params Format-specific parameters encoded as pairs (paramId_1, paramValue_1, paramId_2, paramValue_2, &hellip; .) see cv::ImwriteFlags</p></div>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<header>
<a class="homelink" rel="home" title="pdoc Home" href="https://www.distantviewing.org/">
<img src="https://www.distantviewing.org/img/tv.png" alt="" height="50">
</a>
</header>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="dvt.abstract" href="abstract.html">dvt.abstract</a></code></li>
<li><code><a title="dvt.aggregate" href="aggregate.html">dvt.aggregate</a></code></li>
<li><code><a title="dvt.annotate" href="annotate.html">dvt.annotate</a></code></li>
<li><code><a title="dvt.batch" href="batch.html">dvt.batch</a></code></li>
<li><code><a title="dvt.detectron" href="detectron.html">dvt.detectron</a></code></li>
<li><code><a title="dvt.keras" href="keras.html">dvt.keras</a></code></li>
<li><code><a title="dvt.output" href="output.html">dvt.output</a></code></li>
<li><code><a title="dvt.utils" href="utils.html">dvt.utils</a></code></li>
<li><code><a title="dvt.video" href="video.html">dvt.video</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="dvt.imread" href="#dvt.imread">imread</a></code></li>
<li><code><a title="dvt.imshow" href="#dvt.imshow">imshow</a></code></li>
<li><code><a title="dvt.imwrite" href="#dvt.imwrite">imwrite</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p><span style="color:#ddd">&#21328;</span></p>
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>